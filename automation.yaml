alias: NZ Holiday Dates - Annual Refresh
description: Recalculates NZ public holiday dates on January 1st each year
triggers:
  - at: "00:01:00"
    trigger: time
conditions:
  - condition: template
    value_template: "{{ now().month == 1 and now().day == 1 }}"
actions:
  - target:
      entity_id:
        - sensor.nz_good_friday_timestamp
        - sensor.nz_easter_monday_timestamp
        - sensor.nz_king_s_birthday_timestamp
        - sensor.nz_labour_day_timestamp
        - sensor.nz_matariki_timestamp
    action: homeassistant.update_entity
  - data:
      title: NZ Holiday Dates Updated
      message: Public holiday dates have been updated for {{ now().year }}
    action: notify.notify
mode: single
